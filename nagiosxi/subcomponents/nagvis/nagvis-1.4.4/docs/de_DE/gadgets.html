<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
 <head>
  <title>Gadgets</title>
		<link rel="stylesheet" type="text/css" media="screen" href="../general/css/style.css" />
 </head>
 <body>
		<h1>Gadgets</h1>
		
		<h2>Allgemeine Informationen</h2>
		<p>"Gadgets" sind kleine Programme, die Bilder aus Informationen erzeugen, die von NagVis
		geliefert werden. Die Hauptidee besteht darin, die Performance-Daten von Nagios an diese
		Programme zu liefern, um daraus nette Grafiken oder schicke Tachos, Thermometer oder
		&auml;hnliches zu machen.
		<p>Die Gadgets k&ouml;nnen in jeder Sprache geschrieben werden, die von Ihrem Webserver
		interpretiert wird, wie z.B. PHP, Perl, ...</p>
		<p>Gadgets werden nur f&uuml;r Services unterst&uuml;tzt. Ein Objekt kann in ein Gadget
		verwandelt werden, indem Sie view_type=&quot;gadget&quot; und eine g&uuml;ltige gadget_url
		setzen.</p>
		<p>NagVis unterst&uuml;tzt Gadgets ab Version 1.4.</p>
		
		<img src="../general/img/nagvis-1.4-gadget-label-hover.png" alt="NagVis 1.4 std_speedometer gadget with label and hover menu" /><br />
		<p style="font-size:0.8em;margin-top:0;">&nbsp;NagVis 1.4 std_speedometer gadget on test map with enabled label.</p>
		
		<h2>Parameter</h2>
		<p>Die Gadgets bekommen ihre Informationen durch einen HTTP-Get-Aufruf von NagVis.</p>
		<p>Die folgenden Parameter werden an die Gadgets geliefert:</p>
		
		<table style="width:100%">
			<tr>
				<th width="200">Parameter</th>
				<th width="150">Beispielwert</th>
				<th>Beschreibung</th>
			</tr>
			<tr>
				<td>name1</td>
				<td>localhost</td>
				<td>Der Name des Hosts.</td>
			</tr>
			<tr>
				<td>name2</td>
				<td>Current Load</td>
				<td>Die Service-Beschreibung des Objekts.</td>
			</tr>
			<tr>
				<td>state</td>
				<td>OK</td>
				<td>Die Zeichenkette, die den aktuellen Status beschreibt.</td>
			</tr>
			<tr>
				<td>stateType</td>
				<td>HARD</td>
				<td>Der Typ des aktuelles Status. Kann HARD oder SOFT sein</td>
			</tr>
			<tr>
				<td>perfdata</td>
				<td>load1=0.960;5.000;10.000;0; load5=0.570;4.000;6.000;0; load15=0.540;3.000;4.000;0;</td>
				<td>Die aktuellen Performance-Daten, die von Nagios geliefert werden. 
					Es ist wichtig, g&uuml;ltige Performance-Daten zu haben!</td>
			</tr>
		</table>
		
		<p>Ein g&uuml;ltiger HTTP-get zum std_speedometer.php sieht wie folgt aus:</p>
		<code>std_speedometer.php?name1=localhost&amp;name2=Current%20Load&amp;state=OK&amp;stateType=HARD&amp;perfdata=load1=0.450;5.000;10.000;0;%20load5=0.260;4.000;6.000;0;%20load15=0.750;3.000;4.000;0;</code>

		<h2>wie ist es zu konfigurieren?</h2>
		<p>Bitte pr&uuml;fen Sie die Parameter <code>view_type</code> und <code>gadget_url</code> des Service-Objekts in der <a href="map_config_format_description.html#service">Formatbeschreibung der Map-Konfiguration</a>.</p>

		<h2>wie man ein eigenes Gadget anlegt</h2>
		<p>Das Einfachste ist, einen Blick auf std_speedometer zu werfen und die Kernbestandteile von dort anzupassen.</p>
		<p>Sie sollten einen Beispiel-Performance-Daten-String in den Gadget-Code einf&uuml;gen, indem Sie die Variable $sDummyPerfdata nutzen.
			Dies erlaubt es, das Gadget mit Dummy-Daten in der WUI anzuzeigen. Es ist viel einfacher, die Maps zu erstellen,
			wenn die Gadgets dort angezeigt werden. Wichtig: die Variable muss gesetzt werden, bevor gadgets_core.php über den include-Befehl geladen wird.</p>
	</body>
</html>
